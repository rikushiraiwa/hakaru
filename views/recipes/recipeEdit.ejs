<% layout('layout/boilerplate') %>

<body>
    <div class="container mt-4">
        <h1 class="text-center">Edit Recipe: <%= recipe.recipeName %></h1>

        <form action="/recipes/edit/<%= recipe._id %>?_method=PUT" method="POST">
            <div class="mb-3">
                <label for="recipeName">Recipe Name</label>
                <input type="text" class="form-control" id="recipeName" name="recipeName" value="<%= recipe.recipeName %>" required>
            </div>
            <% recipe.items.forEach(function(item, index) { %>
                <div class="mb-3">
                    <label for="itemName<%= index %>">Item Name</label>
                    <input type="text" class="form-control" id="itemName<%= index %>" name="items[<%= index %>][itemName]" value="<%= item.itemName %>" required>
                </div>
                <div class="mb-3">
                    <label for="content<%= index %>">Content</label>
                    <input type="number" class="form-control" id="content<%= index %>" name="items[<%= index %>][content]" value="<%= item.content %>">
                </div>
                <div class="mb-3">
                    <label for="unitPrice<%= index %>">Unit Price</label>
                    <input type="number" class="form-control" id="unitPrice<%= index %>" name="items[<%= index %>][unitPrice]" value="<%= item.unitPrice %>">
                </div>
                <div class="mb-3">
                    <label for="amountUsage<%= index %>">Amount Usage</label>
                    <input type="number" class="form-control" id="amountUsage<%= index %>" name="items[<%= index %>][amountUsage]" value="<%= item.amountUsage %>">
                </div>
                <div class="mb-3">
                    <label for="amountFee<%= index %>">Amount Fee</label>
                    <input type="number" class="form-control" id="amountFee<%= index %>" name="items[<%= index %>][amountFee]" value="<%= item.amountFee %>">
                </div>
            <% }) %>
            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-success m-4">Save Changes</button>
            </div>
        </form>        
    </div>
</body>
